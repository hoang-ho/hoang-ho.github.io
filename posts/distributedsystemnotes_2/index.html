<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> (Notes 2) CompSci 677 Distributed System - Editting | Hoang Ho</title>
  <meta name="description" content="I&#39;ll be a full-time Software Engineer at Apple, New York city starting on June 2021. I was SDE intern at Amazon in summer 2020 and Research intern at IBM Research in summer 2019. If you want to get in touch, feel free to contact me!">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="(Notes 2) CompSci 677 Distributed System - Editting" />
<meta property="og:description" content="Lecture 8: Lecture 9: Naming Names are used to share resources, uniquely identify entities and refer to locations
Need to map from name to the entity it refers
Approaches to naming Two approaches to naming:
 Hierarchical (e.g. www.cnn.com) Hashed-based  Names spaces (File Names, URL) Name Space: Hierarchical directory structure (DAG)
 Each file name is a unique path in the DAG Resolution of /home/steen/mbox a traversal of the DAG  Resolving File Names across Machines NFS mount protocol: map a remote node onto local DAG" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://hoang-ho.github.io/posts/distributedsystemnotes_2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-03-19T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2021-03-19T00:00:00&#43;00:00" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="(Notes 2) CompSci 677 Distributed System - Editting"/>
<meta name="twitter:description" content="Lecture 8: Lecture 9: Naming Names are used to share resources, uniquely identify entities and refer to locations
Need to map from name to the entity it refers
Approaches to naming Two approaches to naming:
 Hierarchical (e.g. www.cnn.com) Hashed-based  Names spaces (File Names, URL) Name Space: Hierarchical directory structure (DAG)
 Each file name is a unique path in the DAG Resolution of /home/steen/mbox a traversal of the DAG  Resolving File Names across Machines NFS mount protocol: map a remote node onto local DAG"/>

  
  
    
  
  
  <link rel="stylesheet" href="https://hoang-ho.github.io/css/style-white.css">
  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://hoang-ho.github.io/images/favicon.ico" />

  
  
  
  
  
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-187918729-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/about">About</a></li>
         
        <li><a href="/posts">Writings</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" https://hoang-ho.github.io/posts/distributedsystemnotes_1/">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="https://hoang-ho.github.io/posts/distributedsystemnotes_3/">
            <i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i>
          </a>
        </li>
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fhoang-ho.github.io%2fposts%2fdistributedsystemnotes_2%2f">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fhoang-ho.github.io%2fposts%2fdistributedsystemnotes_2%2f&text=%28Notes%202%29%20CompSci%20677%20Distributed%20System%20-%20Editting">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fhoang-ho.github.io%2fposts%2fdistributedsystemnotes_2%2f&title=%28Notes%202%29%20CompSci%20677%20Distributed%20System%20-%20Editting">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fhoang-ho.github.io%2fposts%2fdistributedsystemnotes_2%2f&is_video=false&description=%28Notes%202%29%20CompSci%20677%20Distributed%20System%20-%20Editting">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=%28Notes%202%29%20CompSci%20677%20Distributed%20System%20-%20Editting&body=Check out this article: https%3a%2f%2fhoang-ho.github.io%2fposts%2fdistributedsystemnotes_2%2f">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fhoang-ho.github.io%2fposts%2fdistributedsystemnotes_2%2f&title=%28Notes%202%29%20CompSci%20677%20Distributed%20System%20-%20Editting">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fhoang-ho.github.io%2fposts%2fdistributedsystemnotes_2%2f&title=%28Notes%202%29%20CompSci%20677%20Distributed%20System%20-%20Editting">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2fhoang-ho.github.io%2fposts%2fdistributedsystemnotes_2%2f&title=%28Notes%202%29%20CompSci%20677%20Distributed%20System%20-%20Editting">
      <i class="fab fa-stumbleupon " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://digg.com/submit?url=https%3a%2f%2fhoang-ho.github.io%2fposts%2fdistributedsystemnotes_2%2f&title=%28Notes%202%29%20CompSci%20677%20Distributed%20System%20-%20Editting">
      <i class="fab fa-digg " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fhoang-ho.github.io%2fposts%2fdistributedsystemnotes_2%2f&name=%28Notes%202%29%20CompSci%20677%20Distributed%20System%20-%20Editting&description=Lecture%208%3a%20Lecture%209%3a%20Naming%20Names%20are%20used%20to%20share%20resources%2c%20uniquely%20identify%20entities%20and%20refer%20to%20locations%0aNeed%20to%20map%20from%20name%20to%20the%20entity%20it%20refers%0aApproaches%20to%20naming%20Two%20approaches%20to%20naming%3a%0a%20Hierarchical%20%28e.g.%20www.cnn.com%29%20Hashed-based%20%20Names%20spaces%20%28File%20Names%2c%20URL%29%20Name%20Space%3a%20Hierarchical%20directory%20structure%20%28DAG%29%0a%20Each%20file%20name%20is%20a%20unique%20path%20in%20the%20DAG%20Resolution%20of%20%2fhome%2fsteen%2fmbox%20a%20traversal%20of%20the%20DAG%20%20Resolving%20File%20Names%20across%20Machines%20NFS%20mount%20protocol%3a%20map%20a%20remote%20node%20onto%20local%20DAG">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fhoang-ho.github.io%2fposts%2fdistributedsystemnotes_2%2f&t=%28Notes%202%29%20CompSci%20677%20Distributed%20System%20-%20Editting">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    <div id="toc">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#approaches-to-naming">Approaches to naming</a></li>
    <li><a href="#names-spaces-file-names-url">Names spaces (File Names, URL)</a></li>
    <li><a href="#resolving-file-names-across-machines">Resolving File Names across Machines</a></li>
    <li><a href="#distributed-hash-table">Distributed Hash Table</a>
      <ul>
        <li><a href="#consistent-hashing">Consistent Hashing</a></li>
      </ul>
    </li>
    <li><a href="#hierarchical-naming">Hierarchical Naming</a>
      <ul>
        <li><a href="#domain-name-system-dns">Domain Name System (DNS)</a></li>
        <li><a href="#dns-resolution">DNS Resolution</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#logical-clock">Logical Clock</a></li>
    <li><a href="#total-order">Total order</a></li>
  </ul>

  <ul>
    <li><a href="#total-order-multicast">Total Order Multicast</a></li>
    <li><a href="#vector-clock">Vector Clock</a></li>
    <li><a href="#global-state">Global State</a>
      <ul>
        <li><a href="#distributed-snapshot-algorithm">Distributed Snapshot Algorithm</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        (Notes 2) CompSci 677 Distributed System - Editting
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2021-03-19 00:00:00 &#43;0000 UTC" itemprop="datePublished">2021-03-19</time>
          
        </div>
        
        
      </div>
    </header>

  
    <div class="content" itemprop="articleBody">
      <h1 id="lecture-8">Lecture 8:</h1>
<h1 id="lecture-9-naming">Lecture 9: Naming</h1>
<p>Names are used to share resources, uniquely identify entities and refer to locations</p>
<p>Need to map from name to the entity it refers</p>
<h2 id="approaches-to-naming">Approaches to naming</h2>
<p>Two approaches to naming:</p>
<ul>
<li>Hierarchical (e.g. <a href="http://www.cnn.com">www.cnn.com</a>)</li>
<li>Hashed-based</li>
</ul>
<h2 id="names-spaces-file-names-url">Names spaces (File Names, URL)</h2>
<p>Name Space: Hierarchical directory structure (DAG)</p>
<ul>
<li>Each file name is a unique path in the DAG</li>
<li>Resolution of /home/steen/mbox a traversal of the DAG</li>
</ul>
<h2 id="resolving-file-names-across-machines">Resolving File Names across Machines</h2>
<p>NFS mount protocol: map a remote node onto local DAG</p>
<p>OS maintains a mount table with the mappings</p>
<p>What&rsquo;s the advantage of having a logical name instead of a physical name?</p>
<h2 id="distributed-hash-table">Distributed Hash Table</h2>
<p>Chord algorithm: a p2p system where each node store object, we use a distributed hash table to locate the object - the idea of consistent hashing</p>
<h3 id="consistent-hashing">Consistent Hashing</h3>
<p>Example: Storing (key, value) pair, key is the unique identifier for the value. We want to share the load of storing pairs. We want to know which node is responsible for storing that key.</p>
<p>Map node (server) id and key id to value in [0..n) - using uniform random distribution for mapping.</p>
<p>Key is stored in the next &ldquo;successor&rdquo; node in the ring.</p>
<p>Why do we need to hash the server id? Flexibility of Add/Remove Nodes</p>
<p><strong>Add/Remove Nodes</strong></p>
<p>Node joins: take &lt;k, v&gt; pairs from successor</p>
<p>Node leaves: give &lt;k, v&gt; pairs to successor</p>
<p>Local changes, no global reconfiguration</p>
<h2 id="hierarchical-naming">Hierarchical Naming</h2>
<h3 id="domain-name-system-dns">Domain Name System (DNS)</h3>
<ul>
<li>Naming in large distributed systems
<ul>
<li>NFS mounts: point-to-point references, cannot scale</li>
<li>System may be global in scope</li>
</ul>
</li>
<li>Name space is distributed and has three logical layers
<ul>
<li>Global layer: highest level nodes (root and a few children)</li>
<li>Zone: part of the name space managed by a separate server</li>
</ul>
</li>
</ul>
<p>Which organization is easier to update? Depends</p>
<h3 id="dns-resolution">DNS Resolution</h3>
<p><strong>Recursive</strong></p>
<p><strong>Iterative</strong></p>
<p>Recursive vs Iterative?</p>
<p><strong>Home-based Approaches</strong></p>
<p>Mobile IP: naming at network layer</p>
<h1 id="lecture-10-clock-synchronization">Lecture 10: Clock Synchronization</h1>
<h2 id="logical-clock">Logical Clock</h2>
<p>If processes only care about event A happens before event B but don&rsquo;t care about the exact difference, then they can use logical clock. Clock synchronization does not need to be absolute. If two machines do not interact, no need to synchronize them. Processes need to agree on the order in which events occur rather than the time at which they occured.</p>
<p><strong>Event ordering:</strong> define a total ordering of all events that occur in a system.</p>
<p>Events in single processor machine are totally ordered</p>
<p>We can use send/receive messages exchanged between processes/machines to order event since messages must be sent before received. We can use transitivity to reason about order of events.</p>
<p>Algorithms for updating logical clocks</p>
<ol>
<li>Whenever a local event occurs at machine i, $LC_i = LC_i + 1$</li>
<li>When machine i wants to send a message, it includes $LC_i$ in the message</li>
<li>When machine j receives a message from i, if $LC_j &lt; LC_i$ it updates its logical clock as $LC_j = LC_i + 1$ else do nothing</li>
</ol>
<p>Claim: If we know order of two events A and B, this algorithm ensures that their timestamp will be in order (i.e., if A -&gt; B then ts(A) &lt; ts(B)). If A and B are concurrent, then ts(A) can be &lt;, =, &gt; ts(B)</p>
<p>For example, machine A sends a message to machine B along with its logical clock value 4, and machine B receives this at its logical clock value 3, then we can says that the events happen before logical clock value 4 in machine A occur before the events happens after logical clock value 3 in machine B without clock synchronization.</p>
<p>However, we cannot say about the order of events happen after logical clock 4 in machine A and the events happen before logical clock 3 in machine B. Hence, this is only <strong>partial ordering</strong>.</p>
<h2 id="total-order">Total order</h2>
<p>To convert a partial order into a total order, we can append &ldquo;.&rdquo; and the process id to the logical clock value in each process, and arbitrarily use the process id to order. For example, an event at time 2 at process i will be stamped 2.i, and an event at time 2 at process j will be stamped 2.j, and if i &lt; j then, 2.i -&gt; 2.j (-&gt; means happens before)</p>
<h1 id="lecture-11-total-order-and-distributed-snapshots">Lecture 11: Total Order and Distributed Snapshots</h1>
<h2 id="total-order-multicast">Total Order Multicast</h2>
<p>This is a slightly different problem from event ordering. In lecture 10, we want to have a total order of events in a system. Here we want a total order of the messages delivered by some process. The order of delivered messages is what we care about here.</p>
<p><strong>Assumption:</strong></p>
<ul>
<li>No failures</li>
<li>Point-to-Point FIFO channels (for example: TCP)</li>
</ul>
<p><strong>Algorithm:</strong></p>
<ul>
<li>Multicast messages that have timestamp equal to the logical clock (total ordered logical clock) at the sender</li>
<li>When receive a message, put it in a queue sorted by its timestamp and send an ack to all. We still have to do all the maintanence of the logical clock: Everytime, we receive a message, if the timestamp of the message is higher than the receiver LC, then set the receiver LC to be the message&rsquo;s LC + 1.</li>
<li>If head message in the queue is acked by everyone (i.e, everybody has sent you an ack for that message), deliver.</li>
</ul>
<p>Implemented at the Middleware layer. One replica will multicast the request, and then some coordination happenning, and when other replicas are ready and know the order is right, they would deliver the request.</p>
<p><strong>Question:</strong> Why we need an ack?</p>
<p>To know when to deliver. To wait until we are sure that we aren&rsquo;t receiving a message with a lower timestamp.</p>
<p><strong>Example:</strong></p>
<p>In a distributed database, if multiple requests are sent to multiple different replicas concurrently, using the total order multicast algorithm, it is guaranteed that all replicas executes all updates in the same order, and then all replicas have the same state.</p>
<p>Still, we are not guaranteed real-world ordering since there is no clock synchronization</p>
<p><strong>Causality:</strong></p>
<p>Lamport&rsquo;s logical Clock:</p>
<ul>
<li>Guarantee that: If A happens before B, then ts(A) &lt; ts(B), but the reverse is not true, ts(A) &lt; ts(B) doesn&rsquo;t imply A happens before B</li>
<li>Also need the total order to respect the causal delivery: if send(m) happens before send(n), then deliver(m) happens before deliver(n)</li>
<li>Also need a time-stamping mechanism s.t. if ts(A) &lt; ts(B), then A happens before B</li>
</ul>
<p>To achieve the last two requirements, use a <strong>vector clock</strong></p>
<h2 id="vector-clock">Vector Clock</h2>
<p>Each process maintains a vector clock $V_i$.</p>
<p>$V_i[i]$ is the number of events that have occured at process i.</p>
<p>$V_i[j]$ is the number of events that process i knows have occured at process j.</p>
<p>Update the vector clocks as follow:</p>
<ul>
<li>Whenever a local event happens at process i, update $V_i[i]$</li>
<li>When process i sends a message, piggyback entire vector $V_i$</li>
<li>When process j receives a message from process i, process j updates $V_j[k] = max(V_j[k], V_i[k])$ for all entries k
<ul>
<li>j is told how many events at other process happened before the receipt event</li>
<li>j assigns $V_j[j] = V_j[j] + 1$ to the receipt event</li>
</ul>
</li>
</ul>
<p><strong>Exercise:</strong> Prove that if V(A) &lt; V(B), then A causally precedes B, and the other way around.</p>
<blockquote>
<p>We define V(A) &lt; V(B) iff every element in A is greater to or equal every element in B, and there is at least one element in A that is strictly greater than B.</p>
</blockquote>
<ul>
<li>Conditions for delivery on message M from $P_i$ to $P_j$, if we have
<ul>
<li>$T(M)[i] = V_j[i] + 1$, i.e., this is the next message sent from $P_i$</li>
<li>$T(M)[k] &lt;= V_j[k]$ for all other k, i.e, $P_j$ has received full context</li>
<li>then, we can deliver the message!</li>
</ul>
</li>
</ul>
<blockquote>
<p>Using vector clocks, it is now possible to ensure that a message is delivered only if all messages that causually precede it have also been received as well.</p>
</blockquote>
<p><strong>Question:</strong> Why do we have the above two conditions?</p>
<p><strong>Answer:</strong></p>
<p>First property: We assume here that all messages are broadcasted (i.e everybody receive the messages from everyone), so we don&rsquo;t want to deliver a message if we know that we miss a previous message that the sender process sent.</p>
<p>Second property: We want to make sure that any messages received by the sender before the message was sent was also received by the receiver!</p>
<p><strong>Question:</strong> What if there is a local event happens at project j before j receives the message?</p>
<p><strong>Answer:</strong></p>
<p>Message is still deliver. It&rsquo;s acceptable to have local events that are concurrent.</p>
<p>Side notes: If two vector clocks are incomparable, it means the events are concurrent, i.e, neither happen before another.</p>
<p><strong>Question:</strong>
The original algorithm uses Lamport’s logical clocks (LLCs in the following). Let us call it Algorithm 1. Consider an alternative algorithm, called Algorithm 2, where processes only keep simple logical clocks (SLC in the following), which are defined as follows. Each process holds a local SLC. A process increments its SLC by one every time (a) the process takes a local step (b) the process sends a message, or (c) the process receives a message. A total order of events is obtained, like with Lamport’s clocks, by concatenating the SLC of a process with its unique ID. Algorithm 2 uses SLCs instead of LLCs to assign timestamps to each message that is sent. Processes do not keep LLCs in Algorithm 2. Other than this difference, the two algorithms are exactly the same. Describe an execution of Algorithm 2 where the properties of totally-ordered multicast are violated. Argue why using LLCs would avoid the violations.</p>
<p><strong>Answer:</strong></p>
<p><img src="/images/LLCvsSLC.jpg" alt="answer"></p>
<p>Above is an example where property of totally-ordered multicast is violated. In SLC, event at 2.1 happens before event at 1.2 (because a message must be sent before received), however, the order would be 2.1 -&gt; 1.2.</p>
<p>LLC avoids this violation because whenever a process receive a message, it updates its logical clock as: if $LC_j &lt; LC_i$ it updates its logical clock as $LC_j = LC_i + 1$ else do nothing.</p>
<h2 id="global-state">Global State</h2>
<p>The global state of a distributed system consists of:</p>
<ul>
<li>Local state of each process</li>
<li>All messages sent but not received</li>
</ul>
<p><strong>Problem definition:</strong> We want to run a distributed application and one of n processes crashes. Rather than killing all the processes and starting from the beginning, we can periodically take snapshots (or checkpoints) of the distributed application to keep a global state and start from the latest snapshot. The snapshot for a global state should be captured in a consistent fashion even without clock synchronization, i.e, Consistent global state or Consistent cut.</p>
<p><strong>Consistent Cut:</strong></p>
<ul>
<li>A possible global state at some point in time</li>
<li>Can shift relative ordering of concurrent events, i.e., shift events left or right and still receive the same results</li>
</ul>
<p><img src="/images/ConsistentCut.png" alt="Consistent Cut"></p>
<h3 id="distributed-snapshot-algorithm">Distributed Snapshot Algorithm</h3>
<p><strong>Assumptions:</strong></p>
<ul>
<li>Point-to-point FIFO channel (e.g. TCP)</li>
<li>Next instance of algorithm cannot start until previous has terminated</li>
</ul>
<p><strong>Algorithm:</strong></p>
<p>When a process initiates the algorithm, it will first checkpoint its state and send a marker to every outgoing channel. If a process sees a marker for the first time, it will checkpoint its state, sends markers out and starts saving messages on all other channels. If a process sees a marker for the first time, it will checkpoint its state, sends markers out and start saving messages on all other channels excluding the one with marker. If a process sees a marker for the second time, it will stop saving messages for the channel from which the marker comes from.</p>
<p><strong>Example:</strong></p>
<p>Given two processes A and B.</p>
<p>A sends a message to process B and then initates a snapshot. Due to the FIFO property, when B receives the message from A first and then the marker. B will finish its computation for the message from A and then send its reply. When B checkpoints its state, its state will record that the message to A is sent. The distributed snapshot would record that A already sent the message to B, and B already replied back to A. If A didn&rsquo;t save incoming message from B, then the result message from B would be lost.</p>
<p>A initiates a snapshot and then sends a message to B. Due to FIFO property, when B first receives the marker and then the message from A. When B receives the marker, it will checkpoint its state and send a marker back to A. B doesn&rsquo;t need to save message from A because, A sends a message to B after A initiates the snapshot, thus, in the snapshot A saved, its state won&rsquo;t record that the message to B is sent. So when either A or B crashes, the snapshot stored from A will restart and sends the message to B again! But if B has incoming channels from processes other than A, then B need to save incoming messages from those incoming channels.</p>

    </div>
  </article>

  
  





  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about">About</a></li>
         
          <li><a href="/posts">Writings</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#approaches-to-naming">Approaches to naming</a></li>
    <li><a href="#names-spaces-file-names-url">Names spaces (File Names, URL)</a></li>
    <li><a href="#resolving-file-names-across-machines">Resolving File Names across Machines</a></li>
    <li><a href="#distributed-hash-table">Distributed Hash Table</a>
      <ul>
        <li><a href="#consistent-hashing">Consistent Hashing</a></li>
      </ul>
    </li>
    <li><a href="#hierarchical-naming">Hierarchical Naming</a>
      <ul>
        <li><a href="#domain-name-system-dns">Domain Name System (DNS)</a></li>
        <li><a href="#dns-resolution">DNS Resolution</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#logical-clock">Logical Clock</a></li>
    <li><a href="#total-order">Total order</a></li>
  </ul>

  <ul>
    <li><a href="#total-order-multicast">Total Order Multicast</a></li>
    <li><a href="#vector-clock">Vector Clock</a></li>
    <li><a href="#global-state">Global State</a>
      <ul>
        <li><a href="#distributed-snapshot-algorithm">Distributed Snapshot Algorithm</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fhoang-ho.github.io%2fposts%2fdistributedsystemnotes_2%2f">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fhoang-ho.github.io%2fposts%2fdistributedsystemnotes_2%2f&text=%28Notes%202%29%20CompSci%20677%20Distributed%20System%20-%20Editting">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fhoang-ho.github.io%2fposts%2fdistributedsystemnotes_2%2f&title=%28Notes%202%29%20CompSci%20677%20Distributed%20System%20-%20Editting">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fhoang-ho.github.io%2fposts%2fdistributedsystemnotes_2%2f&is_video=false&description=%28Notes%202%29%20CompSci%20677%20Distributed%20System%20-%20Editting">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=%28Notes%202%29%20CompSci%20677%20Distributed%20System%20-%20Editting&body=Check out this article: https%3a%2f%2fhoang-ho.github.io%2fposts%2fdistributedsystemnotes_2%2f">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fhoang-ho.github.io%2fposts%2fdistributedsystemnotes_2%2f&title=%28Notes%202%29%20CompSci%20677%20Distributed%20System%20-%20Editting">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fhoang-ho.github.io%2fposts%2fdistributedsystemnotes_2%2f&title=%28Notes%202%29%20CompSci%20677%20Distributed%20System%20-%20Editting">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2fhoang-ho.github.io%2fposts%2fdistributedsystemnotes_2%2f&title=%28Notes%202%29%20CompSci%20677%20Distributed%20System%20-%20Editting">
      <i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://digg.com/submit?url=https%3a%2f%2fhoang-ho.github.io%2fposts%2fdistributedsystemnotes_2%2f&title=%28Notes%202%29%20CompSci%20677%20Distributed%20System%20-%20Editting">
      <i class="fab fa-digg fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fhoang-ho.github.io%2fposts%2fdistributedsystemnotes_2%2f&name=%28Notes%202%29%20CompSci%20677%20Distributed%20System%20-%20Editting&description=Lecture%208%3a%20Lecture%209%3a%20Naming%20Names%20are%20used%20to%20share%20resources%2c%20uniquely%20identify%20entities%20and%20refer%20to%20locations%0aNeed%20to%20map%20from%20name%20to%20the%20entity%20it%20refers%0aApproaches%20to%20naming%20Two%20approaches%20to%20naming%3a%0a%20Hierarchical%20%28e.g.%20www.cnn.com%29%20Hashed-based%20%20Names%20spaces%20%28File%20Names%2c%20URL%29%20Name%20Space%3a%20Hierarchical%20directory%20structure%20%28DAG%29%0a%20Each%20file%20name%20is%20a%20unique%20path%20in%20the%20DAG%20Resolution%20of%20%2fhome%2fsteen%2fmbox%20a%20traversal%20of%20the%20DAG%20%20Resolving%20File%20Names%20across%20Machines%20NFS%20mount%20protocol%3a%20map%20a%20remote%20node%20onto%20local%20DAG">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fhoang-ho.github.io%2fposts%2fdistributedsystemnotes_2%2f&t=%28Notes%202%29%20CompSci%20677%20Distributed%20System%20-%20Editting">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2021  Zeran Wu 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/about">About</a></li>
         
        <li><a href="/posts">Writings</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>


  


<script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']]
    },
    svg: {
      fontCache: 'global'
    }
  };
</script>
<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>

</html>
